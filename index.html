import React, { useState, useEffect } from 'react';
import { 
  Menu, X, ChevronDown, CheckCircle, Globe, 
  Users, BarChart2, Shield, BookOpen, 
  Target, Zap, Layout, FileText, Anchor, 
  Award, Briefcase, ArrowRight
} from 'lucide-react';

/* SYNERGY Consulting & Training - Single Page Application
  Built with React & Tailwind CSS
*/

const App = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [activeAccordion, setActiveAccordion] = useState(null);

  const toggleMenu = () => setIsMenuOpen(!isMenuOpen);
  
  const toggleAccordion = (index) => {
    setActiveAccordion(activeAccordion === index ? null : index);
  };

  // Smooth scroll handler
  const scrollToSection = (id) => {
    setIsMenuOpen(false);
    const element = document.getElementById(id);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth' });
    }
  };

  return (
    <div className="min-h-screen bg-slate-50 font-sans text-slate-800">
      
      {/* Navigation */}
      <nav className="sticky top-0 z-50 bg-white shadow-md">
        <div className="container mx-auto px-4 md:px-6">
          <div className="flex justify-between items-center h-20">
            {/* Logo area */}
            <div className="flex items-center space-x-2 cursor-pointer" onClick={() => scrollToSection('hero')}>
              <div className="bg-blue-900 p-2 rounded-lg">
                <Zap className="text-amber-400 h-6 w-6" />
              </div>
              <div className="flex flex-col">
                <span className="text-2xl font-bold text-blue-900 leading-none tracking-tight">SYNERGY</span>
                <span className="text-xs text-slate-500 uppercase tracking-widest">Consulting & Training</span>
              </div>
            </div>

            {/* Desktop Menu */}
            <div className="hidden md:flex space-x-8 font-medium text-sm text-slate-600">
              {['About', 'Services', 'Strategy', 'Training', 'Team'].map((item) => (
                <button 
                  key={item} 
                  onClick={() => scrollToSection(item.toLowerCase())}
                  className="hover:text-blue-900 transition-colors uppercase tracking-wide"
                >
                  {item}
                </button>
              ))}
              <button 
                onClick={() => scrollToSection('contact')}
                className="bg-blue-900 text-white px-5 py-2 rounded-full hover:bg-blue-800 transition-colors shadow-lg shadow-blue-900/20"
              >
                Contact Us
              </button>
            </div>

            {/* Mobile Menu Button */}
            <div className="md:hidden">
              <button onClick={toggleMenu} className="text-slate-700 focus:outline-none">
                {isMenuOpen ? <X size={28} /> : <Menu size={28} />}
              </button>
            </div>
          </div>
        </div>

        {/* Mobile Menu Dropdown */}
        {isMenuOpen && (
          <div className="md:hidden bg-white border-t border-slate-100 py-4 px-4 shadow-xl">
            <div className="flex flex-col space-y-4">
              {['About', 'Services', 'Strategy', 'Training', 'Team', 'Contact'].map((item) => (
                <button 
                  key={item}
                  onClick={() => scrollToSection(item.toLowerCase())}
                  className="text-left py-2 font-medium text-slate-700 border-b border-slate-100 last:border-0"
                >
                  {item}
                </button>
              ))}
            </div>
          </div>
        )}
      </nav>

      {/* Hero Section */}
      <section id="hero" className="relative bg-gradient-to-br from-blue-900 via-blue-800 to-slate-900 text-white py-20 md:py-32 overflow-hidden">
        {/* Abstract Background Shapes */}
        <div className="absolute top-0 right-0 w-96 h-96 bg-blue-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 translate-x-1/2 -translate-y-1/2"></div>
        <div className="absolute bottom-0 left-0 w-96 h-96 bg-amber-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 -translate-x-1/2 translate-y-1/2"></div>

        <div className="container mx-auto px-4 md:px-6 relative z-10">
          <div className="max-w-3xl">
            <div className="inline-block px-3 py-1 bg-blue-800/50 border border-blue-700 rounded-full text-blue-200 text-xs font-bold tracking-widest uppercase mb-6">
              Palestine • Gaza • Est. 2023
            </div>
            <h1 className="text-4xl md:text-6xl font-extrabold leading-tight mb-6">
              Your Strategic Partner for <span className="text-amber-400">Resilient</span> & <span className="text-amber-400">Accountable</span> Impact
            </h1>
            <p className="text-lg md:text-xl text-blue-100 mb-8 leading-relaxed max-w-2xl">
              Bridging the gap between global standards and post-war realities. We empower local institutions to manage recovery funding with sophistication, transparency, and operational excellence.
            </p>
            <div className="flex flex-col sm:flex-row gap-4">
              <button onClick={() => scrollToSection('services')} className="bg-amber-500 text-blue-900 font-bold px-8 py-4 rounded-lg hover:bg-amber-400 transition-all shadow-lg shadow-amber-500/25 flex items-center justify-center">
                Explore Services <ArrowRight className="ml-2 h-5 w-5" />
              </button>
              <button onClick={() => scrollToSection('about')} className="bg-transparent border border-white/30 text-white font-semibold px-8 py-4 rounded-lg hover:bg-white/10 transition-all flex items-center justify-center">
                Our Mission
              </button>
            </div>
          </div>
        </div>
      </section>

      {/* Executive Summary & Context */}
      <section id="about" className="py-20 bg-white">
        <div className="container mx-auto px-4 md:px-6">
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <div>
              <h2 className="text-3xl font-bold text-blue-900 mb-6">Executive Summary</h2>
              <p className="text-slate-600 mb-6 leading-relaxed">
                In the wake of the post-war crisis, the Gaza Strip faces unprecedented humanitarian and developmental challenges. Critical infrastructure has been destroyed, and recovery funding demands sophisticated, accountable systems.
              </p>
              <p className="text-slate-600 mb-6 leading-relaxed">
                <strong className="text-blue-900">SYNERGY Consulting & Training</strong> bridges global standards and local realities. We provide tailored consulting and high-impact capacity-building services for UN agencies, INGOs, local NGOs, and municipal institutions.
              </p>
              
              <div className="bg-slate-50 border-l-4 border-amber-500 p-6 rounded-r-lg">
                <h4 className="font-bold text-blue-900 mb-2">The Post-War Reality</h4>
                <p className="text-sm text-slate-600">
                  Donors now require compliance with CHS, SPHERE, and RBM while local institutions struggle with damaged infrastructure. SYNERGY closes this capacity gap.
                </p>
              </div>
            </div>

            <div className="grid grid-cols-1 sm:grid-cols-2 gap-6">
              <Card 
                icon={<Target className="text-blue-600" />} 
                title="Vision" 
                content="To be a trusted catalyst for institutional growth, empowering local organizations to achieve sustainable, resilient impact."
              />
              <Card 
                icon={<Anchor className="text-blue-600" />} 
                title="Mission" 
                content="Rapidly bridge the post-war capacity gap by providing crisis-adapted consulting aligned with international standards."
              />
              <div className="sm:col-span-2 bg-blue-900 text-white p-8 rounded-xl shadow-lg">
                <h3 className="font-bold text-xl mb-4 flex items-center">
                  <Award className="mr-3 text-amber-400" /> Unique Value Proposition
                </h3>
                <ul className="space-y-3 text-blue-100 text-sm">
                  <li className="flex items-start"><CheckCircle className="h-5 w-5 mr-2 text-amber-400 shrink-0" /> Certified Expertise (PMP®, PMD Pro, MEAL D Pro®)</li>
                  <li className="flex items-start"><CheckCircle className="h-5 w-5 mr-2 text-amber-400 shrink-0" /> Crisis-Adapted Management & Resilience</li>
                  <li className="flex items-start"><CheckCircle className="h-5 w-5 mr-2 text-amber-400 shrink-0" /> De-risking Donor Investments</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Core Services */}
      <section id="services" className="py-20 bg-slate-50">
        <div className="container mx-auto px-4 md:px-6">
          <div className="text-center max-w-3xl mx-auto mb-16">
            <span className="text-blue-600 font-bold tracking-wider uppercase text-sm">What We Do</span>
            <h2 className="text-3xl md:text-4xl font-bold text-blue-900 mt-2 mb-4">Core Services</h2>
            <p className="text-slate-600">Tailored solutions for International Agencies, NGOs, and Municipalities.</p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <ServiceCard 
              icon={<Layout className="h-8 w-8 text-white" />}
              title="Post-War Institutional Strengthening"
              items={["Capacity Assessments (ICAs)", "Donor Compliance Audits", "Organizational Resilience"]}
              color="bg-blue-600"
            />
            <ServiceCard 
              icon={<Briefcase className="h-8 w-8 text-white" />}
              title="Project Management"
              items={["PMP® / PMD Pro Alignment", "Agile Project Leadership", "Crisis-Adapted Implementation"]}
              color="bg-amber-500"
            />
            <ServiceCard 
              icon={<BarChart2 className="h-8 w-8 text-white" />}
              title="MEAL & Accountability"
              items={["MEAL System Design", "Results-Based Reporting", "Indicator Frameworks"]}
              color="bg-blue-800"
            />
            <ServiceCard 
              icon={<FileText className="h-8 w-8 text-white" />}
              title="Specialized Consulting"
              items={["Context Analysis", "Needs Assessments", "Thematic Studies"]}
              color="bg-slate-700"
            />
            <ServiceCard 
              icon={<Shield className="h-8 w-8 text-white" />}
              title="Risk Management"
              items={["Risk Registers", "Contingency Planning", "Security-Sensitive SOPs"]}
              color="bg-red-500"
            />
            <ServiceCard 
              icon={<Users className="h-8 w-8 text-white" />}
              title="Training & Capacity Building"
              items={["Emergency Response Modules", "Institutional Teams", "Toolkits & Job Aids"]}
              color="bg-emerald-600"
            />
          </div>
        </div>
      </section>

      {/* Strategic Framework (Visual) */}
      <section id="strategy" className="py-20 bg-white overflow-hidden">
        <div className="container mx-auto px-4 md:px-6">
           <div className="text-center mb-12">
            <h2 className="text-3xl font-bold text-blue-900">Strategic Framework 2024–2027</h2>
            <p className="text-slate-600 mt-2">Four pillars guiding our impact in Gaza.</p>
          </div>

          <div className="relative">
            {/* Connecting Line for Desktop */}
            <div className="hidden lg:block absolute top-1/2 left-0 w-full h-1 bg-slate-200 -translate-y-1/2 z-0"></div>

            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 relative z-10">
              <StrategyPillar 
                number="01"
                title="Institutional Strengthening"
                desc="Equip local actors to manage recovery resources with accountability."
              />
              <StrategyPillar 
                number="02"
                title="Excellence in Consulting"
                desc="High-value, context-aware advisory for donors and UN agencies."
              />
              <StrategyPillar 
                number="03"
                title="Sustainable Development"
                desc="Building structure and scalability for long-term partnerships."
              />
              <StrategyPillar 
                number="04"
                title="Innovation & Digital"
                desc="Mainstreaming MEAL dashboards, AI, and digital transformation."
              />
            </div>
          </div>
        </div>
      </section>

      {/* Training Programs */}
      <section id="training" className="py-20 bg-slate-900 text-white">
        <div className="container mx-auto px-4 md:px-6">
          <div className="flex flex-col md:flex-row gap-12">
            {/* Left Column: Info */}
            <div className="md:w-1/3">
              <h2 className="text-3xl font-bold mb-6">High-Impact Training Program</h2>
              <p className="text-slate-300 mb-6">
                Our <strong className="text-amber-400">Gaza Institutional Resilience & Emergency Response Track</strong> offers 20 modules designed for UN agencies, INGOs, and local partners.
              </p>
              <div className="bg-white/10 p-6 rounded-lg backdrop-blur-sm border border-white/10 mb-6">
                <h4 className="font-bold mb-4 border-b border-white/20 pb-2">Methodology</h4>
                <ul className="space-y-3 text-sm text-slate-300">
                  <li className="flex items-center"><Globe size={16} className="mr-2 text-blue-400" /> Global Standards (PMP®, Sphere)</li>
                  <li className="flex items-center"><Zap size={16} className="mr-2 text-amber-400" /> Experiential Learning (60% Interactive)</li>
                  <li className="flex items-center"><Layout size={16} className="mr-2 text-emerald-400" /> Toolkits & Job Aids</li>
                  <li className="flex items-center"><BarChart2 size={16} className="mr-2 text-purple-400" /> Kirkpatrick Evaluation</li>
                </ul>
              </div>
            </div>

            {/* Right Column: Modules Accordion */}
            <div className="md:w-2/3">
              <div className="space-y-4">
                <AccordionItem 
                  title="Cluster A: Humanitarian Foundations & Protection"
                  isOpen={activeAccordion === 0}
                  onClick={() => toggleAccordion(0)}
                  content="Humanitarian Principles, CHS, Sphere, Safer Programming, Do No Harm, Protection & Gender Responsive Programming."
                />
                <AccordionItem 
                  title="Cluster B: MEAL & Results-Based Accountability"
                  isOpen={activeAccordion === 1}
                  onClick={() => toggleAccordion(1)}
                  content="MEAL Systems, RBM, Theory of Change, Logframes, Results-Based Reporting, Accountability to Affected Populations (AAP), PSEA."
                />
                <AccordionItem 
                  title="Cluster C: Project & Risk Management"
                  isOpen={activeAccordion === 2}
                  onClick={() => toggleAccordion(2)}
                  content="PMP® / PMD Pro Foundations, Agile & Crisis Leadership, Risk Management, Operational Resilience, Humanitarian Procurement."
                />
                <AccordionItem 
                  title="Cluster D: Proposal Development & Compliance"
                  isOpen={activeAccordion === 3}
                  onClick={() => toggleAccordion(3)}
                  content="Proposal Writing, Budgeting, Financial Stewardship, Donor Compliance, Audit Readiness, Governance."
                />
                <AccordionItem 
                  title="Cluster E: Digital Skills & Wellbeing"
                  isOpen={activeAccordion === 4}
                  onClick={() => toggleAccordion(4)}
                  content="Data Management, Dashboards, Responsible AI, Leadership, Change Management, Stress Management & Psychosocial Wellbeing."
                />
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Team Section */}
      <section id="team" className="py-20 bg-white">
        <div className="container mx-auto px-4 md:px-6">
          <div className="text-center mb-16">
            <h2 className="text-3xl font-bold text-blue-900">Our Core Team</h2>
            <p className="text-slate-600 mt-2">A rare blend of certified international standards and hands-on crisis leadership.</p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
            <TeamCard 
              name="Salah M. Tayeh"
              role="Director & Senior Consultant"
              desc="24+ years in humanitarian & development PM. Expert in institutional capacity building, MEAL, and donor-funded programs in Gaza and the region."
            />
            <TeamCard 
              name="Ahmed S. AbuAbdu"
              role="Senior Consultant"
              desc="Expert in municipal services continuity under war. Specializes in change management, governance, and public service delivery in high-risk environments."
            />
          </div>
        </div>
      </section>

      {/* Glossary Mini-Section */}
      <section className="bg-slate-100 py-12 border-t border-slate-200">
        <div className="container mx-auto px-4 md:px-6">
            <h3 className="text-xl font-bold text-slate-700 mb-6 flex items-center">
                <BookOpen className="mr-2" /> Global Standards & Terminology
            </h3>
            <div className="flex flex-wrap gap-3">
                {['PMP®', 'PMD Pro', 'MEAL D Pro®', 'FMD Pro®', 'CHS', 'SPHERE', 'AAP', 'PSEA', 'RBM', 'ICA', 'Theory of Change'].map(term => (
                    <span key={term} className="bg-white border border-slate-300 text-slate-600 px-3 py-1 rounded-md text-sm font-medium shadow-sm">
                        {term}
                    </span>
                ))}
            </div>
        </div>
      </section>

      {/* Footer */}
      <footer id="contact" className="bg-blue-950 text-slate-400 py-16">
        <div className="container mx-auto px-4 md:px-6">
          <div className="grid grid-cols-1 md:grid-cols-3 gap-12">
            <div>
              <div className="flex items-center space-x-2 mb-6 text-white">
                 <Zap className="text-amber-500 h-6 w-6" />
                 <span className="text-2xl font-bold">SYNERGY</span>
              </div>
              <p className="mb-6 text-sm leading-relaxed">
                Empowering local organizations in Gaza to achieve sustainable, resilient, and accountable impact through world-class training and consulting.
              </p>
            </div>
            
            <div>
              <h4 className="text-white font-bold mb-6">Contact Us</h4>
              <ul className="space-y-4 text-sm">
                <li className="flex items-center">
                    <div className="w-8 flex justify-center"><Globe size={18} /></div>
                    <span>Gaza City, Palestine</span>
                </li>
                <li className="flex items-center">
                    <div className="w-8 flex justify-center"><Briefcase size={18} /></div>
                    <span>info@synergy-gaza.com</span>
                </li>
                 <li className="flex items-center">
                    <div className="w-8 flex justify-center"><Users size={18} /></div>
                    <span>+970 59 000 0000</span>
                </li>
              </ul>
            </div>

            <div>
              <h4 className="text-white font-bold mb-6">Quick Links</h4>
              <ul className="space-y-2 text-sm">
                <li><button onClick={() => scrollToSection('about')} className="hover:text-amber-400 transition-colors">About Us</button></li>
                <li><button onClick={() => scrollToSection('services')} className="hover:text-amber-400 transition-colors">Consulting Services</button></li>
                <li><button onClick={() => scrollToSection('training')} className="hover:text-amber-400 transition-colors">Training Programs</button></li>
                <li><button onClick={() => scrollToSection('strategy')} className="hover:text-amber-400 transition-colors">Strategic Framework</button></li>
              </ul>
            </div>
          </div>
          
          <div className="border-t border-slate-800 mt-12 pt-8 text-center text-xs">
            <p>&copy; 2024 SYNERGY Consulting & Training. All rights reserved.</p>
          </div>
        </div>
      </footer>
    </div>
  );
};

/* Reusable Components */

const Card = ({ icon, title, content }) => (
  <div className="bg-white p-6 rounded-xl shadow-md border border-slate-100 hover:shadow-lg transition-shadow">
    <div className="mb-4 bg-blue-50 w-12 h-12 rounded-full flex items-center justify-center">
      {icon}
    </div>
    <h3 className="text-lg font-bold text-blue-900 mb-2">{title}</h3>
    <p className="text-slate-600 text-sm leading-relaxed">{content}</p>
  </div>
);

const ServiceCard = ({ icon, title, items, color }) => (
  <div className="bg-white rounded-xl shadow-md overflow-hidden hover:-translate-y-1 transition-transform duration-300">
    <div className={`${color} p-6 flex justify-center`}>
      {icon}
    </div>
    <div className="p-6">
      <h3 className="font-bold text-lg text-blue-900 mb-4">{title}</h3>
      <ul className="space-y-2">
        {items.map((item, idx) => (
          <li key={idx} className="flex items-start text-sm text-slate-600">
            <span className="mr-2 text-amber-500">•</span>
            {item}
          </li>
        ))}
      </ul>
    </div>
  </div>
);

const StrategyPillar = ({ number, title, desc }) => (
  <div className="bg-white p-6 rounded-xl border border-slate-200 shadow-sm relative z-10 hover:border-blue-500 transition-colors">
    <div className="text-4xl font-black text-slate-100 absolute top-4 right-4 z-0">{number}</div>
    <div className="relative z-10">
      <h3 className="font-bold text-blue-900 text-lg mb-3">{title}</h3>
      <p className="text-slate-600 text-sm">{desc}</p>
    </div>
    <div className="mt-4 w-12 h-1 bg-amber-400"></div>
  </div>
);

const AccordionItem = ({ title, content, isOpen, onClick }) => (
  <div className="border border-white/20 rounded-lg overflow-hidden bg-white/5 backdrop-blur-sm">
    <button 
      className="w-full flex justify-between items-center p-4 text-left font-semibold text-white hover:bg-white/10 transition-colors"
      onClick={onClick}
    >
      <span>{title}</span>
      <ChevronDown className={`transform transition-transform ${isOpen ? 'rotate-180' : ''}`} size={20} />
    </button>
    {isOpen && (
      <div className="p-4 pt-0 text-slate-300 text-sm leading-relaxed border-t border-white/10 mt-2">
        <div className="pt-4">{content}</div>
      </div>
    )}
  </div>
);

const TeamCard = ({ name, role, desc }) => (
  <div className="flex flex-col sm:flex-row items-center bg-slate-50 p-6 rounded-xl border border-slate-200">
    <div className="w-20 h-20 rounded-full bg-slate-300 flex items-center justify-center text-slate-500 font-bold text-xl mb-4 sm:mb-0 sm:mr-6 shrink-0">
      {name.split(' ').map(n => n[0]).join('')}
    </div>
    <div className="text-center sm:text-left">
      <h3 className="font-bold text-blue-900 text-lg">{name}</h3>
      <div className="text-amber-600 text-sm font-medium mb-2">{role}</div>
      <p className="text-slate-600 text-sm">{desc}</p>
    </div>
  </div>
);

export default App;
